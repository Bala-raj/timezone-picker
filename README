Live demo: http://scratch.andrewl.in/timezone-picker/example.html

Prerequisites
-------------
jQuery
Google Maps Javascript API v3
Python 2.6+

Usage
-----
See example.html
- tar xvf tz_json
- python -m SimpleHTTPServer'
- http://localhost:8000/example.html

To use in your site, extract tz_json.tgz to a web-accessible location on your
server and pass in the path as the jsonRootUrl option

Options
-------
initialZoom: the initial zoom level of the map (1-20, default to 2, 1 is most zoomed out)
initialLat: the initial latitude for the center point of the map (default 0)
initialLng: the initial longitude for the center point of the map (default 0)
strokeColor: the color of the outline of rendered timezones (default '#ff0000')
strokeWeight: the width of the outline of rendered timezones (default 2)
strokeOpacity: the opacity of the outline of rendered timezones (default 0.7)
fillColor: the color of the fill of the rendered timezones (default '#ffcccc')
fillOpacity: the opacity of the outline of rendered timezones (default 0.5)
jsonRootUrl: the default root URL for the JSON data files (default '/tz_json/')
onInfoWindow: callback for rendering the contents of the infowindow.
  onInfoWindow(olsonName, utcOffsetInSeconds, timezoneName)
onSelected: callback when a timezone is selected via the infowindow. Same parameters as onInfoWindow

CSS Classes
-----------
timezone-picker-infowindow: the main content container for the infowindow
timezone-picker-buttons: the use/cancel buttons in the infowindow

For Data File Generation
------------------------
Requires libgeos-dev (sudo apt-get install libgeos-dev)
Requires shapely (sudo pip install shapely)
Requires pytz (sudo pip install pytz)

This plugin needs a bunch of timezone data files to be sitting on a server.
bounding_boxes.json: an array of bounding boxes for each timezone (for hit testing)
polygons/*.json: polygon definitions for each timezone
transition/*.json: UTC Offset and daylight savings information for each timezone

To Generate all timezone data JSON files
- Download and extract the tz_world file from http://efele.net/maps/tz/world/tz_world.zip
- python script/gen_json.py <path-to-tz_world.shp> <output-dir>
- Wait a long time...

Acknowledgments
----------------
Thanks to Eric Muller for creating the timezone shape files
(http://efele.net/maps/tz/world)
Thanks to Zachary Forest Johnson for the shp file loading python scripts
(http://indiemaps.com/blog/2008/03/easy-shapefile-loading-in-python/)